<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>现有房团</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no, minimal-ui">
    <meta name="format-detection" content="telphone=no, email=no">
    <meta name="msapplication-tap-highlight" content="no">
    <link rel="stylesheet" href="css/main.css">
    <script src="js/zepto.min.js"></script>
</head>
<body class="kf no-footer">
<div class="header kf-header">
    <h1>更多楼盘</h1>
    <div class="nav menu-on">
        <a href="#" class="active" data-title="区域"><div>区域</div></a>
        <a href="#" data-title="单价"><div>单价</div></a>
        <a href="#" data-title="类型"><div>类型</div></a>
        <a href="#" data-title="排序"><div>排序</div></a>
    </div>
    <div class="search">
        <i class="icon icon-search"></i>
    </div>
</div>
<ul class="nav-list">
    <li>不限</li>
    <li>静安静安静安静安</li>
    <li>浦东</li>
    <li>闵行</li>
    <li>嘉定</li>
    <li>普陀</li>
    <li>松江</li>
    <li>宝山</li>
</ul>
<div class="wrap-page">
    <div class="reload">
        刷新刷新
    </div>
    <div class="page page-empty">
        <div class="flex-1"></div>
        <div>
            <img src="images/sorry.png" alt="">
            <br>
            <span>房子都去哪儿了...</span>
        </div>
        <div class="flex-1"></div>
    </div>
</div>
<script>
    var nav = $(".nav");
    var navItem = nav.children("a");
    var menu = $(".nav-list");
    var body = $("body");
    var menuTarget;
    navItem.on("click", function(e) {
        var target = $(this);
        menuTarget = target;
        if(target.hasClass("active")) {
            closeMenu();
        } else {
            openMenu();
        }
        e.preventDefault();
    });

    menu.on("click", "li", function(e) {
        var condition = $(e.target).html();
        if(condition == "不限") {
            menuTarget.children().html(menuTarget.data("title"));
            menuTarget.removeClass("on-condition");
        } else {
            menuTarget.children().html(condition);
            menuTarget.addClass("on-condition");
        }
        closeMenu();
    });

    function openMenu() {
        menuTarget.siblings().removeClass("active");
        nav.addClass("menu-on");
        menu.addClass("on");
        body.addClass("lock");
        menuTarget.addClass("active");
    }

    function closeMenu() {
        nav.removeClass("menu-on");
        menu.removeClass("on");
        body.removeClass("lock");
        menuTarget.removeClass("active");
    }
</script>
</body>
</html>